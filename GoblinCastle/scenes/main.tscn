[gd_scene format=3 uid="uid://cvcntrs6w0vc5"]

[ext_resource type="Texture2D" uid="uid://5de1cgiiiwcm" path="res://assets/textures/_0005_AllSkyFree_Screen_05.jpg" id="1_85g3d"]
[ext_resource type="PackedScene" uid="uid://dehaw1vvbyn0l" path="res://scenes/music.tscn" id="1_eb6dy"]
[ext_resource type="Texture2D" uid="uid://bhu6x18cxhnam" path="res://assets/textures/Grass_20-256x256.png" id="1_o5qli"]
[ext_resource type="PackedScene" uid="uid://cnfs2t28ub4tw" path="res://Characters/GoblinQueen/GoblinQueen.tscn" id="1_tipki"]
[ext_resource type="PackedScene" uid="uid://bs72ogkvdd7d6" path="res://addons/proto_controller/proto_controller.tscn" id="2_0wfyh"]
[ext_resource type="PackedScene" uid="uid://c1r585mxa83js" path="res://Characters/ActualGoblin1.tscn" id="3_sugp2"]
[ext_resource type="PackedScene" uid="uid://dvwxtdmn2v44a" path="res://Puzzle/FireplacePuzzle/BadFireplace.tscn" id="3_tbgi4"]
[ext_resource type="PackedScene" uid="uid://dj52y00r1k881" path="res://Pathfinding/StandardPathFinding.tscn" id="4_jyhfs"]
[ext_resource type="PackedScene" uid="uid://be01yeaygobba" path="res://Puzzle/FireplacePuzzle/GoodFireplace.tscn" id="6_tefeu"]
[ext_resource type="Texture2D" uid="uid://beq827823tgnq" path="res://MichaelPNG/fireplaceMap.png" id="7_o6xl0"]
[ext_resource type="PackedScene" path="res://scenes/puzzle_manager.tscn" id="10_choun"]
[ext_resource type="Script" path="res://scripts/fireplace_treasures.gd" id="11_ya4ey"]
[ext_resource type="PackedScene" uid="uid://dj4jigp8qyv6s" path="res://assets/Models/ChurchWhole.glb" id="12_eb6dy"]
[ext_resource type="PackedScene" uid="uid://ds3eelvgujrww" path="res://assets/Models/Shed01.glb" id="14_jkv2x"]
[ext_resource type="PackedScene" uid="uid://bfeie5ejbdoso" path="res://assets/Models/Shed02.glb" id="15_jbj1t"]

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_85g3d"]
panorama = ExtResource("1_85g3d")

[sub_resource type="Sky" id="Sky_85g3d"]
sky_material = SubResource("PanoramaSkyMaterial_85g3d")

[sub_resource type="Environment" id="Environment_choun"]
background_mode = 2
sky = SubResource("Sky_85g3d")
tonemap_mode = 2

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_0wfyh"]
albedo_texture = ExtResource("1_o5qli")
uv1_scale = Vector3(5, 5, 5)

[sub_resource type="BoxShape3D" id="BoxShape3D_0wfyh"]

[sub_resource type="Curve3D" id="Curve3D_sugp2"]
closed = true
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0.054405212, -1.113925, 0.58248186, 0, 0, 0, 0, 0, 0, 6.5384674, -1.7338972, 3.7336445, 0, 0, 0, 0, 0, 0, -21.180368, -1.7338419, 10.958678, 0, 0, 0, 0, 0, 0, -39.953163, -1.7338419, -3.4423764, 0, 0, 0, 0, 0, 0, -20.66604, -1.7338419, -25.301125, 0, 0, 0, 0, 0, 0, 20.222677, -1.7338419, -29.672873, 0, 0, 0, 0, 0, 0, 31.794958, -1.7338419, -13.986009, 0, 0, 0, 0, 0, 0, 19.194021, -1.7338419, 3.7581513, 0, 0, 0, 0, 0, 0, 24.053877, -5.301196, 20.727356, 0, 0, 0, 0, 0, 0, 25.245817, -4.627366, 22.553635),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 10

[node name="Main" type="Node3D" unique_id=1551329216]

[node name="music" parent="." unique_id=1653993637 instance=ExtResource("1_eb6dy")]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="." unique_id=1687101378]
transform = Transform3D(-0.8660254, -0.43301278, 0.25, 0, 0.49999997, 0.86602545, -0.50000006, 0.75, -0.43301266, -0.056568146, 350.18005, 440.09955)
light_color = Color(0.6888, 0.73415995, 0.84, 1)
shadow_enabled = true
directional_shadow_max_distance = 1.0

[node name="WorldEnvironment" type="WorldEnvironment" parent="." unique_id=673844899]
environment = SubResource("Environment_choun")

[node name="GoblinQueen" parent="." unique_id=971588030 instance=ExtResource("1_tipki")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14.126832, 4.894755, 0)

[node name="Floor" type="CSGBox3D" parent="." unique_id=1050249290]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.94914186, 0.18006516, -0.39958242)
use_collision = true
size = Vector3(1000, 2, 1000)
material = SubResource("StandardMaterial3D_0wfyh")

[node name="CSGBox3D" type="CSGBox3D" parent="." unique_id=69343795]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.9793, 0)

[node name="ProtoController" parent="." unique_id=1730958720 instance=ExtResource("2_0wfyh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 13.4248, 0)
puzzle_manager = NodePath("../PuzzleManager")

[node name="RigidBody3D" type="RigidBody3D" parent="." unique_id=88632352 groups=["Pickable"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 2.5, -21)

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D" unique_id=161980401]
shape = SubResource("BoxShape3D_0wfyh")

[node name="MeshInstance3D" type="MeshInstance3D" parent="RigidBody3D" unique_id=2031290398]

[node name="BadFireplace" parent="." unique_id=1618945420 instance=ExtResource("3_tbgi4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.3265438, 7.864887)

[node name="Path3D" type="Path3D" parent="." unique_id=1835240313]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.065119, 5.3374624, -4.034891)
curve = SubResource("Curve3D_sugp2")

[node name="StandardPathFinding" parent="Path3D" unique_id=506958659 instance=ExtResource("4_jyhfs")]
transform = Transform3D(-0.43709993, 0.07706232, -0.89610356, 0, 0.9963215, 0.08568077, 0.8994086, 0.03745121, -0.43549377, 0.054405212, -1.113925, 0.58248186)

[node name="ActualGoblin1" parent="Path3D/StandardPathFinding" unique_id=1702466797 instance=ExtResource("3_sugp2")]
transform = Transform3D(-0.43710342, -7.2637203e-09, 0.89941597, 0.0770625, 0.9963243, 0.037451327, -0.89610577, 0.08568104, -0.435495, 3.1289313, 0.112614155, -1.4558277)

[node name="GoodFireplace" parent="." unique_id=27235167 instance=ExtResource("6_tefeu")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14.06518, 2.8839493, 0)

[node name="Sprite3D" type="Sprite3D" parent="." unique_id=861750703]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 30.419788, 12.932168, 2.3401709)
texture = ExtResource("7_o6xl0")

[node name="PuzzleManager" parent="." unique_id=1317302847 instance=ExtResource("10_choun")]
temp_field = 69

[node name="FireplaceTreasures" type="Node3D" parent="." unique_id=1600896453]
visible = false
script = ExtResource("11_ya4ey")

[node name="FireplaceTreasure" type="Node3D" parent="FireplaceTreasures" unique_id=129018886]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -19.053556, 2.8556633, -21.383408)

[node name="ChurchWhole" parent="." unique_id=44731371 instance=ExtResource("12_eb6dy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -16.490376, 2.4925613, -86.42279)

[node name="Shed012" parent="." unique_id=1358800447 instance=ExtResource("14_jkv2x")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 128.12708, 2.828682, -54.02083)

[node name="Shed022" parent="." unique_id=1695617665 instance=ExtResource("15_jbj1t")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 58.36785, 2.399887, -52.052864)

[connection signal="fireplace_puzzle_solved" from="PuzzleManager" to="FireplaceTreasures" method="_on_puzzle_manager_fireplace_puzzle_solved"]
